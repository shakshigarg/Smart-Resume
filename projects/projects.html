<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="script.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../common/sidenav.css">
    <link rel="stylesheet" href="../common/style.css">
    <link rel="stylesheet" type="text/css" href="projects.css">
    <link rel="stylesheet" type="text/css" href="personal_info.css">
    <link rel="stylesheet" type="text/css" href="projectsAdd.css">
     <script type="text/javascript">
       function urlencodeFormData(fd){
      var s = '';
      function encode(s){ return encodeURIComponent(s).replace(/%20/g,'+'); }
      for(var pair of fd.entries()){
          if(typeof pair[1]=='string'){
              s += (s?'&':'') + encode(pair[0])+'='+encode(pair[1]);
          }
      }
      return s;
  }

      window.addEventListener("load", function () {
      function sendData() {
      var XHR = new XMLHttpRequest();

      var FD = new FormData(form);

      XHR.addEventListener("load", function(event) {
         window.location="projects.html";
      });

      XHR.addEventListener("error", function(event) {
        alert('Oops! Something went wrong.');
      });

      XHR.open("POST", "https://us-central1-hackathon-692e4.cloudfunctions.net/api/addProject");
      XHR.setRequestHeader('Content-Type','application/x-www-form-urlencoded');

      XHR.send(urlencodeFormData(FD));
    }
   
    var form = document.getElementById("form_click");

    form.addEventListener("submit", function (event) {
      event.preventDefault();

      sendData();
    });
  });

</script>
</head>
<body>
    
    <a href="#" id="logout">
        <span class="glyphicon glyphicon-log-in" style="font-size: 25px;color: black"></span>
        <p style="font-size: 20px;color: black">Logout</p>
    </a>

    <div id="topDiv">
        <p id="RESUME">RESUME</p>
    </div>

    <hr>

    <div class="sidenav">
        <a href="../personalInfo/onClickAddData.html">PERSONAL INFORMATION</a>
        <a href="../academics/index.html">ACADEMICS</a>
        <a href="../projects/index.html">PROJECTS</a>
    </div>

<div id="id01" class="modal1">
  
  <form id="form_click" class="modal-content1 animate1" method="POST" action="https://us-central1-hackathon-692e4.cloudfunctions.net/api/addProject">

    <div class="container1">
      <label for="projectName"><b>project name</b></label>
      <input type="text" placeholder="Enter project name" name="projectName" required>

      <label for="projectDescription"><b>description</b></label>
      <input type="text" placeholder="Enter description" name="projectDescription" required>
      <label for="gitLink"><b>git link</b></label>
      <input type="text" placeholder="Enter git link" name="gitLink" required>

      <label for="rollNo"><b>roll no</b></label>
      <input type="text" placeholder="Enter roll no" name="rollNo" required>
        
      <input type="submit" value="send">
      
    </div>

  </form>
        <center><button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button></center>
</div>


        <div class="projects" style="margin-left: 250px; margin-top: 120px;">
            <div style=" font-family: Verdana; margin-bottom: 10px"><b>Projects</b></div>
            <div class="allProjects">
                <li class="list" id="project_names" style=" font-family: Verdana; list-style: none;">
                </li>
            </div>
            <div><button onclick="document.getElementById('id01').style.display='block'" style="width:auto;">Add project</button></div>
    </div>
<script type="text/javascript" src="projects.js"></script>
</body>
</html>